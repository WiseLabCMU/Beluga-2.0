mainmenu "Beluga application"

menu "Logger configurations"

menuconfig BELUGA_LOGGING
    bool "Enable logging for beluga"
    default n
    select LOG
    select USE_SEGGER_RTT
    select LOG_BACKEND_UART
    select LOG_MODE_IMMEDIATE
    select LOG_PRINTK

if BELUGA_LOGGING

menu "App LEDs"
module = APP_LEDS
module-str = App LEDs
source "subsys/logging/Kconfig.template.log_config"
endmenu

menu "AT Commands"
module = AT_COMMANDS
module-str = AT commands
source "subsys/logging/Kconfig.template.log_config"
endmenu

menu "BLE Application"
module = BLE_APP
module-str = BLE application
source "subsys/logging/Kconfig.template.log_config"
endmenu

menu "List Monitor"
module = LIST_MONITOR
module-str = List monitor
source "subsys/logging/Kconfig.template.log_config"
endmenu

menu "Neighbor Listing"
module = NEIGHBOR_LISTING
module-str = Neighbor listing module
source "subsys/logging/Kconfig.template.log_config"
endmenu

menu "Main Application"
module = BELUGA_MAIN
module-str = Beluga main
source "subsys/logging/Kconfig.template.log_config"
endmenu

menu "nRF21540 module"
module = NRF21540_MODULE
module-str = nRF21540 module
source "subsys/logging/Kconfig.template.log_config"
endmenu

menu "Power Manager"
module = POWER_MANAGER
module-str = Power manager
source "subsys/logging/Kconfig.template.log_config"
endmenu

menu "Range Extension"
module = RANGE_EXTENSION
module-str = Range extension
source "subsys/logging/Kconfig.template.log_config"
endmenu

menu "Ranging"
module = RANGING_MODULE
module-str = ranging module
source "subsys/logging/Kconfig.template.log_config"
endmenu

menu "Settings"
module = SETTINGS_MODULE
module-str = settings
source "subsys/logging/Kconfig.template.log_config"
endmenu

menu "SPI module"
module = SPI_MODULE
module-str = SPI module
source "subsys/logging/Kconfig.template.log_config"
endmenu

menu "Serial"
module = SERIAL_MODULE
module-str = serial module
source "subsys/logging/Kconfig.template.log_config"
endmenu

menu "Voltage Regulator"
module = VOLTAGE_REG_MODULE
module-str = Voltage regulator module
source "subsys/logging/Kconfig.template.log_config"
endmenu

menu "Watchdog"
module = WATCHDOG_MODULE
module-str = watchdog module
source "subsys/logging/Kconfig.template.log_config"
endmenu

endif
endmenu

menu "Beluga Configurations"
menuconfig ENABLE_BELUGA_THREADS
    bool "Enable threads for Beluga"
    default y

if ENABLE_BELUGA_THREADS

menuconfig ENABLE_COMMANDS
    bool "Enable commands for Beluga"
    default n

if ENABLE_COMMANDS

config BELUGA_COMMANDS_PRIO
    int "Priority for commands thread"
    depends on ENABLE_COMMANDS
    default 8

config COMMANDS_STACK_SIZE
    int "Stack size (bytes) for commands thread"
    depends on ENABLE_COMMANDS
    default 1024
endif

menuconfig ENABLE_LIST
    bool "Enable the list thread for Beluga"
    default n

if ENABLE_LIST
config BELUGA_LIST_PRIO
    int "Priority for list thread"
    depends on ENABLE_LIST
    default 8

config LIST_STACK_SIZE
    int "Stack size (bytes) for list thread"
    depends on ENABLE_LIST
    default 1024
endif

menuconfig ENABLE_RANGING
    bool "Enable the ranging thread for Beluga"
    default n

if ENABLE_RANGING
config BELUGA_RANGING_PRIO
    int "Priority for ranging thread"
    depends on ENABLE_RANGING
    default 8

config RANGING_STACK_SIZE
    int "Stack size (bytes) for ranging thread"
    depends on ENABLE_RANGING
    default 1024
endif

menuconfig ENABLE_MONITOR
    bool "Enable the monitor thread in Beluga"
    default n

if ENABLE_MONITOR
config BELUGA_MONITOR_PRIO
    int "Priority for monitor thread"
    depends on ENABLE_MONITOR
    default 8

config MONITOR_STACK_SIZE
    int "Stack size (bytes) for monitor task"
    depends on ENABLE_MONITOR
    default 1024
endif

menuconfig ENABLE_RESPONDER
    bool "Enable the responder thread in Beluga"
    default n

if ENABLE_RESPONDER
config BELUGA_RESPONDER_PRIO
    int "Priority for responder thread"
    depends on ENABLE_RESPONDER
    default 7

config RESPONDER_STACK_SIZE
    int "Stack size (bytes) for responder task"
    depends on ENABLE_RESPONDER
    default 1024
endif
endif

config ENABLE_BELUGA_UWB
    bool "Enables DecaDriver library for UWB"
    default y

menu "Beluga LEDs"
config BELUGA_LEDS
    bool "Enable the LED driver"
    default n

config BELUGA_BLE_LEDS
    bool "Use the LEDs to indicate BLE states"
    default n
endmenu

config BELUGA_RANGE_EXTENSION
    bool "Enable range extension for Beluga"
    default n

config BELUGA_NETWORK_SIZE
    int "The number of nodes in the network"
    default 12

config BELUGA_USE_ACCEL
    bool "Use the accelerometer to wakeup from deep sleep"
    select SENSOR
    default n

menu "Beluga Debugging"
config DEBUG_BELUGA_CLOCK
    bool "Debug oscillating crystals"
    default n

config BELUGA_RESET_REASON
    bool "Print the reset reason"
    select PRINTK
    select HWINFO
    default n

config BELUGA_DUMP_CORE
    bool "Dump the core on crashes"
    select DEBUG_COREDUMP

config BELUGA_EVAL_BLE_STRENGTH
    bool "Evaluate the signal strength of BLE regardless if UWB is on or not"
    default n
endmenu

config WDT_MAX_WINDOW
    int "Maximum window of the watchdog timer"
    default 2000

endmenu

source "Kconfig.zephyr"
